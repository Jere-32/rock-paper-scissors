<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        /* select rock paper or scissors randomly.
        Used in playRound Function */
        function getComputerChoice() {
            const choices = ["rock", "paper", "scissors"]
            const randomIndex = Math.floor(Math.random() * choices.length);
            return choices[randomIndex]
        }

        /* compares player and computer choices and sees who wins */

        function winner(player, computer)  {
            
            if (player === computer) {
                console.log("Tie");
                tieCounter++
            }
            if (player === 'rock') {
                if (computer === "paper") {
                    console.log("Paper beats rock, you lose!");
                    computerWinCount++;
                } else {
                    console.log("rock beats scissors, you win");
                    playerWinCount++;
                }
            }
            if (player === "paper") {
                if (computer === "rock") {
                    console.log("paper beats rock, you win!");
                    playerWinCount++;
                } else {
                    console.log("scissors beat paper, you lose!");
                    computerWinCount++;
                }
            }
            if (player === "scissors") {
                if (computer === "rock") {
                    console.log("rock beats scissors, you lose!");
                    computerWinCount++;
                } else {
                    console.log("scissors beat paper, you win!");
                    playerWinCount++;
                }
            }
        }




        /* function to play one round. While loop so player has to put
        a correct value*/

        function playRound() {
        
            let playerSelection;
            while (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
                playerSelection = prompt("Choose rock/paper/scissors").toLowerCase()
                if (playerSelection !== "rock" && playerSelection !== "paper" && playerSelection !== "scissors") {
                    console.log("Invalid choice. Try again.")
                }
            }    
            let computerChoice = getComputerChoice()
            console.log(`Your chose: ${playerSelection}`)
            console.log(`Computer chose: ${computerChoice}`)
            return winner(playerSelection, computerChoice)
            
            

        

        }
        /* Counters on a global scope so they work on all functions */
        let playerWinCount = 0
        let computerWinCount = 0
        let tieCounter = 0
        
         /* Loops the playRound function 5 times */
        function game () {
            
            let round = 1;

            for (let i = 0; i < 5; i++) {
                
                console.log(`This is round ${round}`)
                playRound()
                console.log(`You have ${playerWinCount} wins`)
                console.log(`Computer has ${computerWinCount} wins`)
                console.log(`Ties ${tieCounter}`)
                round++

            }


        }
        




    </script>
</body>
</html>